query loadbalancer_config($device: String!) {
  ManagedLoadBalancer(name__value: $device) {
    edges {
      node {
        id
        name {
          value
        }
        lb_type {
          value
        }
        lb_vendor {
          value
        }
        scheme {
          value
        }
        frontend_servers {
          count
          edges {
            node {
              id
              name {
                value
              }
              status {
                value
              }
            }
          }
        }
        vip_services {
          edges {
            node {
              id
              hostname {
                value
              }
              protocol {
                value
              }
              port {
                value
              }
              ssl_certificate {
                value
              }
              vip_ip {
                node {
                  address {
                    value
                  }
                }
              }
              health_checks {
                edges {
                  node {
                    check {
                      value
                    }
                    rise {
                      value
                    }
                    fall {
                      value
                    }
                    timeout {
                      value
                    }
                  }
                }
              }
              backend_pool {
                node {
                  id
                  name {
                    value
                  }
                  load_balancing_algorithm {
                    value
                  }
                  onprem_servers {
                    count
                    edges {
                      node {
                        hostname {
                          value
                        }
                        ip_address {
                          node {
                            address {
                              value
                            }
                          }
                        }
                      }
                    }
                  }
                  cloud_instances {
                    count
                    edges {
                      node {
                        name {
                          value
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
