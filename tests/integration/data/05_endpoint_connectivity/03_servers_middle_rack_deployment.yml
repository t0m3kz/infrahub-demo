---
# Test servers for MIDDLE_RACK deployment (DC1-1-POD-4)
# Middle_rack: Servers in compute racks connect to Leaf switches
# in network rack (middle rack) in same row
apiVersion: infrahub.app/v1
kind: Object
spec:
  kind: DcimPhysicalDevice
  data:
    # Server-MIDDLE-01: Middle_rack deployment, Compute Rack, Row 1
    # (4x 25G interfaces)
    - name: "server-middle-01"
      device_type: "PowerEdge-R740"
      role: "endpoint"
      status: "provisioning"
      rack: "ktw-1-s-4-r-1-10"  # Compute rack in row 1
      deployment: "DC1-1-POD-4"
      position: 10
      interfaces:
        - kind: DcimPhysicalInterface
          data:
            name: "eno1"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno2"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno3"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno4"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"

    # Server-MIDDLE-02: Middle_rack deployment, Compute Rack, Row 2
    # (4x 25G interfaces)
    - name: "server-middle-02"
      device_type: "PowerEdge-R740"
      role: "endpoint"
      status: "provisioning"
      rack: "ktw-1-s-4-r-2-10"  # Compute rack in row 2
      deployment: "DC1-1-POD-4"
      position: 11
      interfaces:
        - kind: DcimPhysicalInterface
          data:
            name: "eno1"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno2"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno3"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno4"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
