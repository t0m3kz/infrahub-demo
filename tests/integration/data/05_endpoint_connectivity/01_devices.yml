---
# Endpoint Servers with 25G interfaces matching Leaf switch capabilities
# Leafs in DC1-1-POD-1 have 25G customer ports for server connectivity
# NOTE: member_of_groups removed to prevent race conditions.
# Integration test will manually invoke generators sequentially for each server.
apiVersion: infrahub.app/v1
kind: Object
spec:
  kind: DcimPhysicalDevice
  data:
    # Server-01: 25G interfaces (eno1, eno2, eno3, eno4)
    - name: "server-01"
      device_type: "PowerEdge-R640"
      role: "endpoint"
      status: "provisioning"
      rack: "ktw-1-s-1-r-1-10"
      deployment: "DC1-1-POD-1"
      position: 10
      member_of_groups: [endpoints]
      interfaces:
        - kind: DcimPhysicalInterface
          data:
            name: "eno1"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno2"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno3"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno4"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"

    # Server-02: 25G interfaces (eno1, eno2, eno3, eno4)
    - name: "server-02"
      device_type: "PowerEdge-R640"
      role: "endpoint"
      status: "provisioning"
      rack: "ktw-1-s-1-r-1-10"
      deployment: "DC1-1-POD-1"
      position: 11
      member_of_groups: [endpoints]
      interfaces:
        - kind: DcimPhysicalInterface
          data:
            name: "eno1"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno2"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno3"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno4"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"

    # Server-03: 25G interfaces (eno1, eno2, eno3, eno4)
    - name: "server-03"
      device_type: "PowerEdge-R740"
      role: "endpoint"
      status: "provisioning"
      rack: "ktw-1-s-1-r-2-10"
      deployment: "DC1-1-POD-1"
      position: 10
      member_of_groups: [endpoints]
      interfaces:
        - kind: DcimPhysicalInterface
          data:
            name: "eno1"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno2"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno3"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno4"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"

    # Server-04: 25G interfaces (eno1, eno2, eno3, eno4)
    - name: "server-04"
      device_type: "PowerEdge-R740"
      role: "endpoint"
      status: "provisioning"
      rack: "ktw-1-s-1-r-2-10"
      deployment: "DC1-1-POD-1"
      position: 11
      member_of_groups: [endpoints]
      interfaces:
        - kind: DcimPhysicalInterface
          data:
            name: "eno1"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno2"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno3"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno4"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"

    # Server-05: 25G interfaces (eno1, eno2, eno3, eno4)
    - name: "server-05"
      device_type: "ProLiant-DL380"
      role: "endpoint"
      status: "provisioning"
      rack: "ktw-1-s-1-r-1-10"
      deployment: "DC1-1-POD-1"
      position: 12
      member_of_groups: [endpoints]
      interfaces:
        - kind: DcimPhysicalInterface
          data:
            name: "eno1"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno2"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno3"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
        - kind: DcimPhysicalInterface
          data:
            name: "eno4"
            interface_type: "25gbase-x-sfp28"
            role: "uplink"
            status: "free"
